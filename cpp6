/*
 * FUTURE BMI • AI v2.0
 * Program generated by Eng. Galal
 * Date: 2026-02-11
 */
#include <iostream>
#include <iomanip>
#include <string>
#include <cmath>
#include <chrono>
#include <ctime>
#include <limits>

using namespace std;

string category_description(double bmi) {
	if (bmi < 16.0) return "Severely underweight";
	if (bmi < 17.0) return "Moderately underweight";
	if (bmi < 18.5) return "Mildly underweight";
	if (bmi < 25.0) return "Normal weight";
	if (bmi < 30.0) return "Overweight";
	if (bmi < 35.0) return "Obesity (Class I)";
	if (bmi < 40.0) return "Obesity (Class II)";
	return "Obesity (Class III)";
}

string quick_advice(double bmi) {
	if (bmi < 18.5) return "Consider a balanced calorie-rich diet and medical check-up.";
	if (bmi < 25.0) return "Maintain current habits: balanced diet and regular activity.";
	if (bmi < 30.0) return "Increase physical activity and review dietary intake.";
	return "Seek professional guidance for structured weight-loss and monitoring.";
}

double read_number(const string &prompt) {
	double v;
	while (true) {
		cout << prompt;
		if (cin >> v) return v;
		if (cin.fail()) {
			cin.clear();
			string junk;
			getline(cin, junk);
			cout << "Invalid number, please try again.\n";
		}
	}
}

int main() {
	const char *logo = R"(  ______ _    _ _   _ _____ _   _ ______   ____  _   _ 
 |  ____| |  | | \ | |_   _| \ | |  ____| |  _ \| \ | |
 | |__  | |  | |  \| | | | |  \| | |__    | |_) |  \| |
 |  __| | |  | | . ` | | | | . ` |  __|   |  _ <| . ` |
 | |    | |__| | |\  |_| |_| |\  | |____  | |_) | |\  |
 |_|     \____/|_| \_|_____|_| \_|______| |____/|_| \_|

	  FUTURE BMI • AI v2.0
)";
	cout << "\n" << logo << "\n";
	auto now = chrono::system_clock::now();
	time_t t = chrono::system_clock::to_time_t(now);
	cout << "Timestamp: " << std::ctime(&t);
	cout << "(Type Ctrl+C to exit)\n\n";

	cout << fixed << setprecision(1);

	while (true) {
		double weight = read_number("Enter weight value (e.g. 70): ");
		cout << "Weight unit - enter 'k' for kg or 'l' for lb: ";
		char wunit; cin >> wunit;
		while (wunit != 'k' && wunit != 'l') { cout << "Please enter 'k' or 'l': "; cin >> wunit; }

		double height = read_number("Enter height value (e.g. 1.75 or 175): ");
		cout << "Height unit - enter 'm' for meters or 'c' for centimeters: ";
		char hunit; cin >> hunit;
		while (hunit != 'm' && hunit != 'c') { cout << "Please enter 'm' or 'c': "; cin >> hunit; }

		double weightKg = (wunit == 'l') ? weight * 0.45359237 : weight;
		double heightM = (hunit == 'c') ? height / 100.0 : height;

		if (heightM <= 0 || weightKg <= 0) {
			cout << "Invalid measurements, restarting input.\n\n";
			continue;
		}

		double bmi = weightKg / (heightM * heightM);
		double ideal_min = 18.5 * heightM * heightM;
		double ideal_max = 24.9 * heightM * heightM;

		cout << "\n--- Analysis ---\n";
		cout << "Weight: " << weightKg << " kg   ";
		cout << "Height: " << heightM << " m\n";
		cout << "BMI: " << bmi << "   Category: " << category_description(bmi) << "\n";
		cout << "Ideal weight range for normal BMI (18.5-24.9): " << ideal_min << " kg - " << ideal_max << " kg\n";
		cout << "Advice: " << quick_advice(bmi) << "\n";
		cout << "Futuristic tip: Track trends weekly for best results.\n";

		cout << "\nRun another calculation? (y/n): ";
		char again; cin >> again;
		if (again != 'y' && again != 'Y') break;
		cout << "\n";
	}

	cout << "\nGoodbye — stay futuristic and healthy.\n";
	return 0;
}

